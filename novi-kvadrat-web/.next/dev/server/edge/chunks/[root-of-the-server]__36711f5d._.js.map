{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/i18n/config.ts"],"sourcesContent":["export const locales = ['en', 'sr', 'sr-cyrl'] as const\nexport type Locale = (typeof locales)[number]\n\nexport const defaultLocale: Locale = 'sr'\n\nexport const localeNames: Record<Locale, string> = {\n  'en': 'English',\n  'sr': 'Srpski',\n  'sr-cyrl': 'Српски'\n}\n\n// URL slug mappings for each language\nexport const slugTranslations = {\n  // Routes\n  'novogradnja': {\n    en: 'new-developments',\n    sr: 'novogradnja',\n    'sr-cyrl': 'новоградња'\n  },\n  'projekat': {\n    en: 'project',\n    sr: 'projekat',\n    'sr-cyrl': 'пројекат'\n  },\n  'gradjevinar': {\n    en: 'developer',\n    sr: 'gradjevinar',\n    'sr-cyrl': 'грађевинар'\n  },\n  'kontakt': {\n    en: 'contact',\n    sr: 'kontakt',\n    'sr-cyrl': 'контакт'\n  },\n  \n  // Cities\n  'beograd': {\n    en: 'belgrade',\n    sr: 'beograd',\n    'sr-cyrl': 'београд'\n  },\n  'novi-sad': {\n    en: 'novi-sad',\n    sr: 'novi-sad',\n    'sr-cyrl': 'нови-сад'\n  },\n  'nis': {\n    en: 'nis',\n    sr: 'nis',\n    'sr-cyrl': 'ниш'\n  },\n  'kragujevac': {\n    en: 'kragujevac',\n    sr: 'kragujevac',\n    'sr-cyrl': 'крагујевац'\n  }\n}\n\nexport function getLocalizedSlug(slug: string, locale: Locale): string {\n  // Check if this slug has a translation\n  const translations = slugTranslations[slug as keyof typeof slugTranslations]\n  if (translations) {\n    return translations[locale] || slug\n  }\n  \n  // Return original slug if no translation exists\n  return slug\n}\n\nexport function getLocalizedPath(path: string, locale: Locale): string {\n  // Split path into segments\n  const segments = path.split('/').filter(Boolean)\n  \n  // Translate each segment\n  const translatedSegments = segments.map(segment => {\n    return getLocalizedSlug(segment, locale)\n  })\n  \n  // Add locale prefix and reconstruct path\n  return `/${locale}/${translatedSegments.join('/')}`\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,UAAU;IAAC;IAAM;IAAM;CAAU;AAGvC,MAAM,gBAAwB;AAE9B,MAAM,cAAsC;IACjD,MAAM;IACN,MAAM;IACN,WAAW;AACb;AAGO,MAAM,mBAAmB;IAC9B,SAAS;IACT,eAAe;QACb,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,YAAY;QACV,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,eAAe;QACb,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,WAAW;QACT,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IAEA,SAAS;IACT,WAAW;QACT,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,YAAY;QACV,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,OAAO;QACL,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;IACA,cAAc;QACZ,IAAI;QACJ,IAAI;QACJ,WAAW;IACb;AACF;AAEO,SAAS,iBAAiB,IAAY,EAAE,MAAc;IAC3D,uCAAuC;IACvC,MAAM,eAAe,gBAAgB,CAAC,KAAsC;IAC5E,IAAI,cAAc;QAChB,OAAO,YAAY,CAAC,OAAO,IAAI;IACjC;IAEA,gDAAgD;IAChD,OAAO;AACT;AAEO,SAAS,iBAAiB,IAAY,EAAE,MAAc;IAC3D,2BAA2B;IAC3B,MAAM,WAAW,KAAK,KAAK,CAAC,KAAK,MAAM,CAAC;IAExC,yBAAyB;IACzB,MAAM,qBAAqB,SAAS,GAAG,CAAC,CAAA;QACtC,OAAO,iBAAiB,SAAS;IACnC;IAEA,yCAAyC;IACzC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,mBAAmB,IAAI,CAAC,MAAM;AACrD"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\nimport { locales, defaultLocale } from '@/i18n/config'\n\n// Mapping of translated slugs to actual route paths\nconst routeRewrites: Record<string, string> = {\n  // English translations -> actual routes\n  'contact': 'kontakt',\n  'new-developments': 'novogradnja',\n  'project': 'projekat',\n  'developer': 'gradjevinar',\n  // Serbian Cyrillic translations -> actual routes\n  'контакт': 'kontakt',\n  'новоградња': 'novogradnja',\n  'пројекат': 'projekat',\n  'грађевинар': 'gradjevinar',\n}\n\nexport function middleware(request: NextRequest) {\n  const pathname = request.nextUrl.pathname\n  \n  // Check if pathname is missing a locale\n  const pathnameIsMissingLocale = locales.every(\n    (locale) => !pathname.startsWith(`/${locale}/`) && pathname !== `/${locale}`\n  )\n  \n  // Exclude API routes, static files, and other system routes\n  if (\n    pathname.startsWith('/api/') ||\n    pathname.startsWith('/_next/') ||\n    pathname.includes('/favicon.ico') ||\n    pathname.includes('.') // files with extensions\n  ) {\n    return NextResponse.next()\n  }\n  \n  // Redirect if there is no locale\n  if (pathnameIsMissingLocale) {\n    // Try to get locale from Accept-Language header\n    const acceptLanguage = request.headers.get('accept-language')\n    let detectedLocale = defaultLocale\n    \n    if (acceptLanguage) {\n      // Check for Serbian\n      if (acceptLanguage.includes('sr')) {\n        detectedLocale = 'sr'\n      }\n      // Check for English\n      else if (acceptLanguage.includes('en')) {\n        detectedLocale = 'en'\n      }\n    }\n    \n    // Also check for saved preference in cookie\n    const localeCookie = request.cookies.get('locale')\n    if (localeCookie && locales.includes(localeCookie.value as any)) {\n      detectedLocale = localeCookie.value as any\n    }\n    \n    // Redirect to the same path with locale prefix\n    return NextResponse.redirect(\n      new URL(`/${detectedLocale}${pathname}`, request.url)\n    )\n  }\n  \n  // Handle route rewrites for translated URLs\n  const segments = pathname.split('/')\n  const locale = segments[1]\n  let needsRewrite = false\n  \n  const rewrittenSegments = segments.map((segment, index) => {\n    if (index <= 1) return segment // Keep empty string and locale\n    if (routeRewrites[segment]) {\n      needsRewrite = true\n      return routeRewrites[segment]\n    }\n    return segment\n  })\n  \n  if (needsRewrite) {\n    const rewrittenPath = rewrittenSegments.join('/')\n    return NextResponse.rewrite(new URL(rewrittenPath, request.url))\n  }\n  \n  // Set locale cookie\n  const response = NextResponse.next()\n  response.cookies.set('locale', locale, { maxAge: 60 * 60 * 24 * 365 }) // 1 year\n  \n  return response\n}\n\nexport const config = {\n  matcher: [\n    // Skip all internal paths (_next)\n    '/((?!_next|api|favicon.ico).*)',\n  ],\n}"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAEA;;;AAEA,oDAAoD;AACpD,MAAM,gBAAwC;IAC5C,wCAAwC;IACxC,WAAW;IACX,oBAAoB;IACpB,WAAW;IACX,aAAa;IACb,iDAAiD;IACjD,WAAW;IACX,cAAc;IACd,YAAY;IACZ,cAAc;AAChB;AAEO,SAAS,WAAW,OAAoB;IAC7C,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,wCAAwC;IACxC,MAAM,0BAA0B,wIAAO,CAAC,KAAK,CAC3C,CAAC,SAAW,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,EAAE,QAAQ;IAG9E,4DAA4D;IAC5D,IACE,SAAS,UAAU,CAAC,YACpB,SAAS,UAAU,CAAC,cACpB,SAAS,QAAQ,CAAC,mBAClB,SAAS,QAAQ,CAAC,KAAK,wBAAwB;MAC/C;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,iCAAiC;IACjC,IAAI,yBAAyB;QAC3B,gDAAgD;QAChD,MAAM,iBAAiB,QAAQ,OAAO,CAAC,GAAG,CAAC;QAC3C,IAAI,iBAAiB,8IAAa;QAElC,IAAI,gBAAgB;YAClB,oBAAoB;YACpB,IAAI,eAAe,QAAQ,CAAC,OAAO;gBACjC,iBAAiB;YACnB,OAEK,IAAI,eAAe,QAAQ,CAAC,OAAO;gBACtC,iBAAiB;YACnB;QACF;QAEA,4CAA4C;QAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC;QACzC,IAAI,gBAAgB,wIAAO,CAAC,QAAQ,CAAC,aAAa,KAAK,GAAU;YAC/D,iBAAiB,aAAa,KAAK;QACrC;QAEA,+CAA+C;QAC/C,OAAO,gMAAY,CAAC,QAAQ,CAC1B,IAAI,IAAI,CAAC,CAAC,EAAE,iBAAiB,UAAU,EAAE,QAAQ,GAAG;IAExD;IAEA,4CAA4C;IAC5C,MAAM,WAAW,SAAS,KAAK,CAAC;IAChC,MAAM,SAAS,QAAQ,CAAC,EAAE;IAC1B,IAAI,eAAe;IAEnB,MAAM,oBAAoB,SAAS,GAAG,CAAC,CAAC,SAAS;QAC/C,IAAI,SAAS,GAAG,OAAO,QAAQ,+BAA+B;;QAC9D,IAAI,aAAa,CAAC,QAAQ,EAAE;YAC1B,eAAe;YACf,OAAO,aAAa,CAAC,QAAQ;QAC/B;QACA,OAAO;IACT;IAEA,IAAI,cAAc;QAChB,MAAM,gBAAgB,kBAAkB,IAAI,CAAC;QAC7C,OAAO,gMAAY,CAAC,OAAO,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;IAChE;IAEA,oBAAoB;IACpB,MAAM,WAAW,gMAAY,CAAC,IAAI;IAClC,SAAS,OAAO,CAAC,GAAG,CAAC,UAAU,QAAQ;QAAE,QAAQ,KAAK,KAAK,KAAK;IAAI,IAAG,SAAS;IAEhF,OAAO;AACT;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,kCAAkC;QAClC;KACD;AACH"}}]
}